#! /usr/bin/env python
"""
End members used in fractional cover.
Josh Sixsmith is the person to talk to about this code...

This file has been modified to only have the '2014_07_23' version
For older versions of the endmembers, see
https://github.com/GeoscienceAustralia/ga-neo-landsat-processor/blob/develop/gaip/endmembers.py

    Contacts:

        * Peter Scarth; peter.scarth@qld.gov.au
        * Josh Sixsmith; joshua.sixsmith@ga.gov.au
"""
import numpy


def sum_weight():
    """
    Retrieves the sum to one weighting constraint used for deriving the
    fractional components of a Landsat (5TM/7ETM+) image for '2014_07_23'.

    .. note::

        Scarth 20090810 14:06:35 CEST
        Define the weight of the sum to one constraint
        This value determined how well the resulting fractions will sum to 100%
        I typically determine this by running the unmixing against field data for
        a number of values, picking the best one

    :return:
        A floating point value representing the sum to one weighting
        constraint.
    """
    return 1.0


def endmember_version():
    return '2014_07_23'


def get_endmembers(sum_to_one_weight):
    """
    Gives green, dead1, dead2 and bare fractions
    Note the last row is the sum to one constraint value

    :param sum_to_one_weight:
    :return:
    """

    return numpy.array(
        [[-5.464290336540255505e-02, -5.767020445924114780e-02, -5.906110955304696292e-02, -6.700504667505242928e-02],
         [-5.115107950026569900e-02, -5.409355725777687668e-02, -5.342280766935707248e-02, -5.469063156575638962e-02],
         [-3.644368840331627807e-02, -2.628599911733342509e-02, -2.854726863619490643e-02, -3.228408727634863445e-02],
         [-1.845139979305272099e-02, 4.582986066437087433e-03, -9.796145860438624890e-04, 3.198099331919701180e-03],
         [-1.052405869706085767e-01, -9.502217271616275607e-02, -9.963857788261415438e-02, -1.089589302578710950e-01],
         [-9.441819322575252527e-02, -5.964566254748319973e-02, -6.544315525177371584e-02, -7.866664388080202297e-02],
         [-1.535890065317412762e-02, -1.096202220956716926e-02, -5.954946972867429002e-03, 2.002366659560623346e-04],
         [-5.344756256346760992e-02, -1.912294568596969654e-02, -2.184813581617991995e-02, -2.334481581880084450e-02],
         [-5.853352518392838932e-02, -2.886462434435403679e-03, -1.223467037213730665e-02, 3.823838584255143808e-03],
         [1.950779216732365096e-02, -3.115666387579302862e-03, 3.116027529538804245e-03, -4.913956702173007812e-03],
         [3.722839187043883169e-02, 1.196436181371859919e-02, 1.514068506501519210e-02, 8.639824338943528567e-03],
         [8.827592367138858975e-02, 7.598319207923980023e-02, 7.513388986981874018e-02, 7.866025549503966041e-02],
         [5.127496970571243651e-02, 7.391908596242074969e-02, 7.150301777473304365e-02, 4.379848836501164244e-02],
         [4.104605726014266820e-02, -6.681898377728911001e-03, -3.350170067917183567e-03, -2.230394927494897331e-02],
         [1.878685690229944527e-01, 1.691250215929575862e-01, 1.855592999574983137e-01, 1.645648690359144128e-01],
         [1.183840044858385787e-01, 9.587359594411411223e-02, 1.037224797415067651e-01, 9.057911763157400209e-02],
         [2.065272812765595600e-01, 1.735393267016661356e-01, 1.766126764763210621e-01, 1.869085404855105603e-01],
         [2.527335758405409305e-02, 9.532930377039894321e-03, 1.560974909032925712e-02, 2.465819749710248046e-02],
         [7.765629706610430172e-02, 7.376525410464453147e-02, 7.781371707749906719e-02, 8.646642457248507330e-02],
         [-5.159366536498603828e-02, -4.386522480345243780e-02, -5.790013529858453745e-02, -5.342514056053505878e-02],
         [3.096206626847060675e-02, 2.817342567332670536e-02, 2.803040322252116703e-02, 8.159928154395458544e-03],
         [-7.274664797894490886e-02, -7.883449637151143663e-02, -8.686136847593858845e-02, -7.671703245050162656e-02],
         [-2.620261220391492327e-02, -3.525057461175230139e-02, -2.951452114357644083e-02, -1.523746678296718920e-02],
         [7.267773933404807207e-02, 2.907584207722927611e-02, 5.033184227128905536e-02, 6.975625560526513280e-02],
         [-2.521902668462255512e-02, 8.795990991494615635e-03, 1.654159957000518209e-03, 1.548064559550171165e-02],
         [-3.141512588668788492e-02, 8.752777779304117545e-03, 5.870538132721337191e-03, 3.324994630397553989e-03],
         [1.610572363156139927e-03, -7.660859390263171503e-03, -2.346704478512865420e-03, -1.677557820685602816e-02],
         [7.940188302396607167e-02, 5.238370811946130995e-02, 4.752624499791829882e-02, 5.845021570747249012e-02],
         [-8.305333205688321396e-02, -8.740353995670634146e-02, -8.663206867035706804e-02, -8.962243859214236164e-02],
         [-3.134459925376070211e-01, -2.919590542175634629e-01, -2.982909888998974135e-01, -2.881066639395697959e-01],
         [-1.320436513210617446e-01, -8.106065659799134571e-02, -9.040166438215160860e-02, -7.102633870143021388e-02],
         [9.141627919282124815e-02, 3.741983845073103970e-02, 4.302319368486359763e-02, 5.346957292034752035e-02],
         [6.531423423903673364e-02, 4.173879306464137184e-03, 1.315499774664568439e-02, 2.540795330849436595e-03],
         [-2.512167249071487474e-01, -2.293017651229115328e-01, -2.308316107272400108e-01, -2.296341049497438447e-01],
         [7.854083128657096680e-02, 1.322086447508264151e-01, 1.200017405701558487e-01, 1.301844883787950380e-01],
         [1.348043454256773327e-02, 2.324465342745282020e-02, 2.193953217717072718e-02, 2.098828508558031256e-02],
         [2.211031106873930646e-02, 8.039814115773015468e-03, 1.377479441282658708e-02, 2.396621041068460606e-02],
         [2.565339333505840813e-03, -2.957788837729030326e-02, -2.598407384951788301e-02, -4.176198317761675716e-02],
         [-1.561390900549435024e-02, -6.959716041897632405e-03, -7.563711192607475847e-03, 2.578537985645889229e-03],
         [-4.715632795774485353e-02, -3.922153971939058847e-02, -4.066009260414800430e-02, -4.262055569914211667e-02],
         [3.944868046722410648e-02, 7.843136962646812815e-02, 7.306767876345292290e-02, 7.781037952994351858e-02],
         [-1.305191272114236516e-02, -3.333090362074655338e-02, -3.117440559557061591e-02, -3.399503540879177804e-02],
         [-5.878963125418451563e-02, -4.746036917258404653e-02, -5.138968658059000355e-02, -4.655383008471902090e-02],
         [3.517935140482630896e-02, 4.339498921404126575e-02, 4.047724978415100094e-02, 2.944767940518291591e-02],
         [-1.419711165578261408e-02, -2.600311235119719469e-02, -2.403528122336769449e-02, -2.231501555809822096e-02],
         [4.673631963007365830e-02, 4.222122860493134067e-02, 4.051900184392275006e-02, 2.429042580682045163e-02],
         [4.698390687205909744e-02, 2.801285273380542742e-02, 2.785620535881803625e-02, 1.345851306437251954e-02],
         [6.088456957907769501e-02, 5.617267756739811879e-02, 6.172067025414008229e-02, 6.769326202579863117e-02],
         [4.844879695570007694e-02, 5.740838066700899855e-02, 5.886020855683895409e-02, 5.301874908051096291e-02],
         [1.384848789077177678e-01, 1.769173528968090436e-01, 1.691611951419131621e-01, 1.742668314353199854e-01],
         [4.053052385681649161e-02, 3.012822603078371686e-02, 3.839254235447352170e-02, 4.390007708776469397e-02],
         [6.925080147411756537e-03, 5.572545235147760567e-02, 4.636146390010906226e-02, 4.502929061198106264e-02],
         [-7.227781819370950045e-02, -6.763510172663662889e-02, -7.217489552309069856e-02, -7.282333914396818542e-02],
         [-1.008287344909177680e-01, -8.889299472103404098e-02, -9.055437899463497642e-02, -1.072965907866354346e-01],
         [-9.736956896355325464e-02, -1.353523652443247294e-01, -1.352381115496958108e-01, -1.243509360270547565e-01],
         [-8.004713198776981092e-03, -1.556205882857981601e-02, -3.684195079664918937e-02, -3.137802688610195900e-02],
         [-1.043843225835274641e-01, -1.138555287821729628e-01, -8.735718508239048719e-02, -6.512854117530177123e-02],
         [-1.023930949318214573e-01, -9.762016258570074823e-02, -9.173794000587955078e-02, -9.828225044298957713e-02],
         [-7.015927946292823542e-03, 5.161269524257226793e-02, 3.910941472153854626e-02, 3.351430048608956130e-02],
         [sum_to_one_weight, sum_to_one_weight, sum_to_one_weight, sum_to_one_weight]]
    )
